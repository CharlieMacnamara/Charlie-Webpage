"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{683:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"refreshReducer",{enumerable:!0,get:function(){return h}});let n=r(2253),a=r(3814),l=r(7227),u=r(5023),o=r(5293),c=r(650),i=r(3409),f=r(8981),d=r(1176),s=r(2455),p=r(8793);function h(e,t){let{origin:r}=t,h={},y=e.canonicalUrl,g=e.tree;h.preserveCustomHistoryState=!1;let O=(0,f.createEmptyCacheNode)(),R=(0,s.hasInterceptionRouteInCurrentTree)(e.tree);return O.lazyData=(0,n.fetchServerResponse)(new URL(y,r),{flightRouterState:[g[0],g[1],g[2],"refetch"],nextUrl:R?e.nextUrl:null}),O.lazyData.then(async r=>{let{flightData:n,canonicalUrl:f}=r;if("string"==typeof n)return(0,o.handleExternalUrl)(e,h,n,e.pushRef.pendingPush);for(let r of(O.lazyData=null,n)){let{tree:n,seedData:c,head:s,isRootRender:_}=r;if(!_)return e;let b=(0,l.applyRouterStatePatchToTree)([""],g,n,e.canonicalUrl);if(null===b)return(0,d.handleSegmentMismatch)(e,t,n);if((0,u.isNavigatingToNewRootLayout)(g,b))return(0,o.handleExternalUrl)(e,h,y,e.pushRef.pendingPush);let P=f?(0,a.createHrefFromUrl)(f):void 0;if(f&&(h.canonicalUrl=P),null!==c){let e=c[1],t=c[3];O.rsc=e,O.prefetchRsc=null,O.loading=t,(0,i.fillLazyItemsTillLeafWithHead)(O,void 0,n,c,s),h.prefetchCache=new Map}await (0,p.refreshInactiveParallelSegments)({state:e,updatedTree:b,updatedCache:O,includeNextUrl:R,canonicalUrl:h.canonicalUrl||e.canonicalUrl}),h.cache=O,h.patchedTree=b,g=b}return(0,c.handleMutable)(e,h)},()=>e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3154:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"restoreReducer",{enumerable:!0,get:function(){return l}});let n=r(3814),a=r(1755);function l(e,t){var r;let{url:l,tree:u}=t,o=(0,n.createHrefFromUrl)(l),c=u||e.tree,i=e.cache;return{canonicalUrl:o,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:e.focusAndScrollRef,cache:i,prefetchCache:e.prefetchCache,tree:c,nextUrl:null!=(r=(0,a.extractPathFromFlightRouterState)(c))?r:l.pathname}}r(9657),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5968:(e,t,r)=>{var n=r(1703);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serverActionReducer",{enumerable:!0,get:function(){return M}});let u=r(7165),o=r(9429),c=r(8250),i=r(6267),f=r(4268),d=r(3814),s=r(5293),p=r(7227),h=r(5023),y=r(650),g=r(3409),O=r(8981),R=r(2455),_=r(1176),b=r(8793),P=r(254),v=r(6106),E=r(9945),T=r(5063),j=r(3431),m=r(9645),U=r(9339),{createFromFetch:S,createTemporaryReferenceSet:A,encodeReply:C}=r(4979);async function N(e,t,r){let n,a,{actionId:i,actionArgs:d}=r,s=A(),p=(0,U.extractInfoFromServerReferenceId)(i),h="use-cache"===p.type?(0,U.omitUnusedArgs)(d,p):d,y=await C(h,{temporaryReferences:s}),g=await fetch("",{method:"POST",headers:l(l({Accept:c.RSC_CONTENT_TYPE_HEADER,[c.ACTION_HEADER]:i,[c.NEXT_ROUTER_STATE_TREE_HEADER]:encodeURIComponent(JSON.stringify(e.tree))},{}),t?{[c.NEXT_URL]:t}:{}),body:y}),O=g.headers.get("x-action-redirect"),[R,_]=(null==O?void 0:O.split(";"))||[];switch(_){case"push":n=E.RedirectType.push;break;case"replace":n=E.RedirectType.replace;break;default:n=void 0}let b=!!g.headers.get(c.NEXT_IS_PRERENDER_HEADER);try{let e=JSON.parse(g.headers.get("x-action-revalidated")||"[[],0,0]");a={paths:e[0]||[],tag:!!e[1],cookie:e[2]}}catch(e){a={paths:[],tag:!1,cookie:!1}}let v=R?(0,f.assignLocation)(R,new URL(e.canonicalUrl,window.location.href)):void 0,T=g.headers.get("content-type");if(null==T?void 0:T.startsWith(c.RSC_CONTENT_TYPE_HEADER)){let e=await S(Promise.resolve(g),{callServer:u.callServer,findSourceMapURL:o.findSourceMapURL,temporaryReferences:s});return R?{actionFlightData:(0,P.normalizeFlightData)(e.f),redirectLocation:v,redirectType:n,revalidatedParts:a,isPrerender:b}:{actionResult:e.a,actionFlightData:(0,P.normalizeFlightData)(e.f),redirectLocation:v,redirectType:n,revalidatedParts:a,isPrerender:b}}if(g.status>=400)throw Error("text/plain"===T?await g.text():"An unexpected response was received from the server.");return{redirectLocation:v,redirectType:n,revalidatedParts:a,isPrerender:b}}function M(e,t){let{resolve:r,reject:n}=t,a={},l=e.tree;a.preserveCustomHistoryState=!1;let u=e.nextUrl&&(0,R.hasInterceptionRouteInCurrentTree)(e.tree)?e.nextUrl:null;return N(e,u,t).then(async o=>{let c,{actionResult:f,actionFlightData:R,redirectLocation:P,redirectType:U,isPrerender:S,revalidatedParts:A}=o;if(P&&(U===E.RedirectType.replace?(e.pushRef.pendingPush=!1,a.pendingPush=!1):(e.pushRef.pendingPush=!0,a.pendingPush=!0),c=(0,d.createHrefFromUrl)(P,!1),a.canonicalUrl=c),!R)return(r(f),P)?(0,s.handleExternalUrl)(e,a,P.href,e.pushRef.pendingPush):e;if("string"==typeof R)return r(f),(0,s.handleExternalUrl)(e,a,R,e.pushRef.pendingPush);let C=A.paths.length>0||A.tag||A.cookie;for(let n of R){let{tree:o,seedData:i,head:d,isRootRender:y}=n;if(!y)return r(f),e;let R=(0,p.applyRouterStatePatchToTree)([""],l,o,c||e.canonicalUrl);if(null===R)return r(f),(0,_.handleSegmentMismatch)(e,t,o);if((0,h.isNavigatingToNewRootLayout)(l,R))return r(f),(0,s.handleExternalUrl)(e,a,c||e.canonicalUrl,e.pushRef.pendingPush);if(null!==i){let t=i[1],r=(0,O.createEmptyCacheNode)();r.rsc=t,r.prefetchRsc=null,r.loading=i[3],(0,g.fillLazyItemsTillLeafWithHead)(r,void 0,o,i,d),a.cache=r,a.prefetchCache=new Map,C&&await (0,b.refreshInactiveParallelSegments)({state:e,updatedTree:R,updatedCache:r,includeNextUrl:!!u,canonicalUrl:a.canonicalUrl||e.canonicalUrl})}a.patchedTree=R,l=R}return P&&c?(C||((0,T.createSeededPrefetchCacheEntry)({url:P,data:{flightData:R,canonicalUrl:void 0,couldBeIntercepted:!1,prerendered:!1,postponed:!1,staleTime:-1},tree:e.tree,prefetchCache:e.prefetchCache,nextUrl:e.nextUrl,kind:S?i.PrefetchKind.FULL:i.PrefetchKind.AUTO}),a.prefetchCache=e.prefetchCache),n((0,v.getRedirectError)((0,m.hasBasePath)(c)?(0,j.removeBasePath)(c):c,U||E.RedirectType.push))):r(f),(0,y.handleMutable)(e,a)},t=>(n(t),e))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8210:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serverPatchReducer",{enumerable:!0,get:function(){return f}});let n=r(3814),a=r(7227),l=r(5023),u=r(5293),o=r(6973),c=r(650),i=r(8981);function f(e,t){let{serverResponse:{flightData:r,canonicalUrl:f}}=t,d={};if(d.preserveCustomHistoryState=!1,"string"==typeof r)return(0,u.handleExternalUrl)(e,d,r,e.pushRef.pendingPush);let s=e.tree,p=e.cache;for(let t of r){let{segmentPath:r,tree:c}=t,h=(0,a.applyRouterStatePatchToTree)(["",...r],s,c,e.canonicalUrl);if(null===h)return e;if((0,l.isNavigatingToNewRootLayout)(s,h))return(0,u.handleExternalUrl)(e,d,e.canonicalUrl,e.pushRef.pendingPush);let y=f?(0,n.createHrefFromUrl)(f):void 0;y&&(d.canonicalUrl=y);let g=(0,i.createEmptyCacheNode)();(0,o.applyFlightData)(p,g,t),d.patchedTree=h,d.cache=g,p=g,s=h}return(0,c.handleMutable)(e,d)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9339:(e,t)=>{function r(e){let t=parseInt(e.slice(0,2),16),r=t>>1&63,n=Array(6);for(let e=0;e<6;e++){let t=r>>5-e&1;n[e]=1===t}return{type:1==(t>>7&1)?"use-cache":"server-action",usedArgs:n,hasRestArgs:1==(1&t)}}function n(e,t){let r=Array(e.length);for(let n=0;n<e.length;n++)(n<6&&t.usedArgs[n]||n>=6&&t.hasRestArgs)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{extractInfoFromServerReferenceId:function(){return r},omitUnusedArgs:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8793:(e,t,r)=>{var n=r(1703);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{addRefreshMarkerToActiveParallelSegments:function(){return function e(t,r){let[n,a,,l]=t;for(let u in n.includes(c.PAGE_SEGMENT_KEY)&&"refresh"!==l&&(t[2]=r,t[3]="refresh"),a)e(a[u],r)}},refreshInactiveParallelSegments:function(){return i}});let u=r(6973),o=r(2253),c=r(5964);async function i(e){let t=new Set;await f(l(l({},e),{},{rootTree:e.updatedTree,fetchedSegments:t}))}async function f(e){let{state:t,updatedTree:r,updatedCache:n,includeNextUrl:a,fetchedSegments:l,rootTree:c=r,canonicalUrl:i}=e,[,d,s,p]=r,h=[];if(s&&s!==i&&"refresh"===p&&!l.has(s)){l.add(s);let e=(0,o.fetchServerResponse)(new URL(s,location.origin),{flightRouterState:[c[0],c[1],c[2],"refetch"],nextUrl:a?t.nextUrl:null}).then(e=>{let{flightData:t}=e;if("string"!=typeof t)for(let e of t)(0,u.applyFlightData)(n,n,e)});h.push(e)}for(let e in d){let r=f({state:t,updatedTree:d[e],updatedCache:n,includeNextUrl:a,fetchedSegments:l,rootTree:c,canonicalUrl:i});h.push(r)}await Promise.all(h)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6267:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_HMR_REFRESH:function(){return o},ACTION_NAVIGATE:function(){return n},ACTION_PREFETCH:function(){return u},ACTION_REFRESH:function(){return r},ACTION_RESTORE:function(){return a},ACTION_SERVER_ACTION:function(){return c},ACTION_SERVER_PATCH:function(){return l},PrefetchCacheEntryStatus:function(){return f},PrefetchKind:function(){return i}});let r="refresh",n="navigate",a="restore",l="server-patch",u="prefetch",o="hmr-refresh",c="server-action";var i=function(e){return e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary",e}({}),f=function(e){return e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},751:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return d}});let n=r(6267),a=r(5293),l=r(8210),u=r(3154),o=r(683),c=r(7833),i=r(61),f=r(5968),d=function(e,t){switch(t.type){case n.ACTION_NAVIGATE:return(0,a.navigateReducer)(e,t);case n.ACTION_SERVER_PATCH:return(0,l.serverPatchReducer)(e,t);case n.ACTION_RESTORE:return(0,u.restoreReducer)(e,t);case n.ACTION_REFRESH:return(0,o.refreshReducer)(e,t);case n.ACTION_HMR_REFRESH:return(0,i.hmrRefreshReducer)(e,t);case n.ACTION_PREFETCH:return(0,c.prefetchReducer)(e,t);case n.ACTION_SERVER_ACTION:return(0,f.serverActionReducer)(e,t);default:throw Error("Unknown action")}};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6934:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"shouldHardNavigate",{enumerable:!0,get:function(){return function e(t,r){let[l,u]=r,[o,c]=t;return(0,a.matchSegment)(o,l)?!(t.length<=2)&&e((0,n.getNextFlightSegmentPath)(t),u[c]):!!Array.isArray(o)}}});let n=r(254),a=r(2504);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}}]);