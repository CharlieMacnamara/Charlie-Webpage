"use strict";exports.id=360,exports.ids=[360],exports.modules={6372:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;let i=r(9021);e.FILE_SYSTEM_ADAPTER={lstat:i.lstat,stat:i.stat,lstatSync:i.lstatSync,statSync:i.statSync,readdir:i.readdir,readdirSync:i.readdirSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}},167:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;let r=process.versions.node.split(".");if(void 0===r[0]||void 0===r[1])throw Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);let i=Number.parseInt(r[0],10),s=Number.parseInt(r[1],10);e.IS_SUPPORT_READDIR_WITH_FILE_TYPES=i>10||10===i&&s>=10},5182:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.scandirSync=e.scandir=void 0;let i=r(1851),s=r(9748),n=r(5473);function o(t={}){return t instanceof n.default?t:new n.default(t)}e.Settings=n.default,e.scandir=function(t,e,r){if("function"==typeof e){i.read(t,o(),e);return}i.read(t,o(e),r)},e.scandirSync=function(t,e){let r=o(e);return s.read(t,r)}},1851:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;let i=r(3798),s=r(8175),n=r(167),o=r(1916),a=r(5946);function l(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(i,n)=>{if(null!==i){r(i);return}let l=n.map(r=>({dirent:r,name:r.name,path:a.joinPathSegments(t,r.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){r(null,l);return}s(l.map(t=>r=>{if(!t.dirent.isSymbolicLink()){r(null,t);return}e.fs.stat(t.path,(i,s)=>{if(null!==i){if(e.throwErrorOnBrokenSymbolicLink){r(i);return}r(null,t);return}t.dirent=o.fs.createDirentFromStats(t.name,s),r(null,t)})}),(t,e)=>{if(null!==t){r(t);return}r(null,e)})})}function d(t,e,r){e.fs.readdir(t,(n,l)=>{if(null!==n){r(n);return}s(l.map(r=>{let s=a.joinPathSegments(t,r,e.pathSegmentSeparator);return t=>{i.stat(s,e.fsStatSettings,(i,n)=>{if(null!==i){t(i);return}let a={name:r,path:s,dirent:o.fs.createDirentFromStats(r,n)};e.stats&&(a.stats=n),t(null,a)})}}),(t,e)=>{if(null!==t){r(t);return}r(null,e)})})}e.read=function(t,e,r){if(!e.stats&&n.IS_SUPPORT_READDIR_WITH_FILE_TYPES){l(t,e,r);return}d(t,e,r)},e.readdirWithFileTypes=l,e.readdir=d},5946:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=void 0,e.joinPathSegments=function(t,e,r){return t.endsWith(r)?t+e:t+r+e}},9748:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=e.readdirWithFileTypes=e.read=void 0;let i=r(3798),s=r(167),n=r(1916),o=r(5946);function a(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(r=>{let i={dirent:r,name:r.name,path:o.joinPathSegments(t,r.name,e.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let t=e.fs.statSync(i.path);i.dirent=n.fs.createDirentFromStats(i.name,t)}catch(t){if(e.throwErrorOnBrokenSymbolicLink)throw t}return i})}function l(t,e){return e.fs.readdirSync(t).map(r=>{let s=o.joinPathSegments(t,r,e.pathSegmentSeparator),a=i.statSync(s,e.fsStatSettings),l={name:r,path:s,dirent:n.fs.createDirentFromStats(r,a)};return e.stats&&(l.stats=a),l})}e.read=function(t,e){return!e.stats&&s.IS_SUPPORT_READDIR_WITH_FILE_TYPES?a(t,e):l(t,e)},e.readdirWithFileTypes=a,e.readdir=l},5473:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});let i=r(3873),s=r(3798),n=r(6372);class o{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=n.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,i.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new s.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}}e.default=o},5085:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createDirentFromStats=void 0;class r{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}e.createDirentFromStats=function(t,e){return new r(t,e)}},1916:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fs=void 0;let i=r(5085);e.fs=i},4716:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;let i=r(9021);e.FILE_SYSTEM_ADAPTER={lstat:i.lstat,stat:i.stat,lstatSync:i.lstatSync,statSync:i.statSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}},3798:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.statSync=e.stat=e.Settings=void 0;let i=r(8947),s=r(6636),n=r(6937);function o(t={}){return t instanceof n.default?t:new n.default(t)}e.Settings=n.default,e.stat=function(t,e,r){if("function"==typeof e){i.read(t,o(),e);return}i.read(t,o(e),r)},e.statSync=function(t,e){let r=o(e);return s.read(t,r)}},8947:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0,e.read=function(t,e,r){e.fs.lstat(t,(i,s)=>{if(null!==i){r(i);return}if(!s.isSymbolicLink()||!e.followSymbolicLink){r(null,s);return}e.fs.stat(t,(t,i)=>{if(null!==t){if(e.throwErrorOnBrokenSymbolicLink){r(t);return}r(null,s);return}e.markSymbolicLink&&(i.isSymbolicLink=()=>!0),r(null,i)})})}},6636:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.read=void 0,e.read=function(t,e){let r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{let r=e.fs.statSync(t);return e.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(t){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw t}}},6937:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});let i=r(4716);class s{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=i.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,e){return null!=t?t:e}}e.default=s},8685:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=e.walkStream=e.walkSync=e.walk=void 0;let i=r(2884),s=r(3018),n=r(6373),o=r(6752);function a(t={}){return t instanceof o.default?t:new o.default(t)}e.Settings=o.default,e.walk=function(t,e,r){if("function"==typeof e){new i.default(t,a()).read(e);return}new i.default(t,a(e)).read(r)},e.walkSync=function(t,e){let r=a(e);return new n.default(t,r).read()},e.walkStream=function(t,e){let r=a(e);return new s.default(t,r).read()}},2884:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});let i=r(5810);class s{constructor(t,e){this._root=t,this._settings=e,this._reader=new i.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(e=>{t(e)}),this._reader.onEntry(t=>{this._storage.push(t)}),this._reader.onEnd(()=>{t(null,this._storage)}),this._reader.read()}}e.default=s},3018:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});let i=r(7910),s=r(5810);class n{constructor(t,e){this._root=t,this._settings=e,this._reader=new s.default(this._root,this._settings),this._stream=new i.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}e.default=n},6373:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});let i=r(8767);class s{constructor(t,e){this._root=t,this._settings=e,this._reader=new i.default(this._root,this._settings)}read(){return this._reader.read()}}e.default=s},5810:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});let i=r(4735),s=r(5182),n=r(1886),o=r(5229),a=r(5271);class l extends a.default{constructor(t,e){super(t,e),this._settings=e,this._scandir=s.scandir,this._emitter=new i.EventEmitter,this._queue=n(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,e){this._queue.push({directory:t,base:e},t=>{null!==t&&this._handleError(t)})}_worker(t,e){this._scandir(t.directory,this._settings.fsScandirSettings,(r,i)=>{if(null!==r){e(r,void 0);return}for(let e of i)this._handleEntry(e,t.base);e(null,void 0)})}_handleError(t){!this._isDestroyed&&o.isFatalError(this._settings,t)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,e){if(this._isDestroyed||this._isFatalError)return;let r=t.path;void 0!==e&&(t.path=o.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),o.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,void 0===e?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}}e.default=l},5229:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.joinPathSegments=e.replacePathSegmentSeparator=e.isAppliedFilter=e.isFatalError=void 0,e.isFatalError=function(t,e){return null===t.errorFilter||!t.errorFilter(e)},e.isAppliedFilter=function(t,e){return null===t||t(e)},e.replacePathSegmentSeparator=function(t,e){return t.split(/[/\\]/).join(e)},e.joinPathSegments=function(t,e,r){return""===t?e:t.endsWith(r)?t+e:t+r+e}},5271:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});let i=r(5229);class s{constructor(t,e){this._root=t,this._settings=e,this._root=i.replacePathSegmentSeparator(t,e.pathSegmentSeparator)}}e.default=s},8767:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});let i=r(5182),s=r(5229),n=r(5271);class o extends n.default{constructor(){super(...arguments),this._scandir=i.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{for(let r of this._scandir(t,this._settings.fsScandirSettings))this._handleEntry(r,e)}catch(t){this._handleError(t)}}_handleError(t){if(s.isFatalError(this._settings,t))throw t}_handleEntry(t,e){let r=t.path;void 0!==e&&(t.path=s.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),s.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&s.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,void 0===e?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}}e.default=o},6752:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});let i=r(3873),s=r(5182);class n{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,i.sep),this.fsScandirSettings=new s.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}}e.default=n}};